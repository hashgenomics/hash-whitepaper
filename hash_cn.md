# <img src="../img/hash-logo.png" width="40" height="40"> HASH Genomics 白皮书

* 作者：陈钢、吴晓立、罗大钧、崔瑞军
* 日期：2018.5.1
* 版本：0.1 for HASH Beta
* 联系人：陈钢（[cg@wegene.com](cg@wegene.com)）

## 1. 项目概述

哈希基因（HASH Genomics，以下简称 HSG 或本项目）是领先的个人基因组公司 WeGene 发起的一个致力于构建弱中心化基因组应用和研究网络的研究项目。随着基因组学技术的飞速发展，基因组数据的研究和应用需求也迅速增长，但数据积累、隐私保护、算力和存储资源、利益分配机制、监管需求等方面也面临巨大的挑战。本项目计划基于以区块链为代表的信息技术，构建一个能更好地应对上述挑战的基因组应用和研究网络。

区块链技术在最近两年得到了长足的发展和广泛的关注，区块链技术所提供的可追溯、分布式、不可修改等特性，配合已经广泛应用的分布式存储和计算、P2P存储和计算、同态加密等技术，为我们提供了一个构建新型基因组应用和研究网络的可能。近年发布的若干涉及基因组应用和研究的区块链项目，例如源自Veritas Genetics的Nebula Genomics、印度和美国团队合作的Shivom等，正在逐步地从初步想法走向具体的白皮书和落地实施，部分项目还成功地通过ICO筹集了所需的资金。这一方面说明新型基因组应用和研究网络的构建已经获得了广泛关注，另一方面也说明当前基因组的研究和应用确实面临诸多挑战，需要有新的技术和模式来解决这些问题。

由于基因组学应用和研究的水平、监管机构政策以及各个项目团队研究基础和合作资源的差异，至少在项目发展初期，很难出现一个能全球统一的基因组应用和研究网络。因此，国内也出现了Genebook、HGBC等基于区块链的基因组项目，在已有的基因检测和生物信息项目中也开始规划区块链及相关技术的应用。

WeGene 作为领先的个人基因组服务提供商，已经用基因芯片和全基因组测序技术完成了十余万人的基因组检测和解读，在生物信息技术、基因检测和用户运营方面积累了丰富的经验。本项目的目标是尝试利用上述技术，以 WeGene 为数据和用户基础来开发和构建一个弱中心化的基因应用和研究网络。随着项目的进展，我们会将目标用户拓展到其他个人基因组服务商，例如 23andme 和 Ancestry 的用户，并逐步发展成为一个中立、高效、安全、稳定的基因组应用和研究网络。

本文档接下来会介绍基因组应用和研究所面临的挑战和风险（第2章）、本项目的技术方案和经济系统（第3-4章）、开发和运营的路线图（第 5 章）以及未来的发展方向（第 6 章）。关于如何参与本项目，以及第三方应用和基因组研究人员如何基于本项目的网络提供服务和开展研究的信息会在其他文档中展开，详见本文档第 7 章。


> **提示**：现阶段，本项目只是 WeGene 团队发起的一项旨在尝试利用区块链推动基因组应用和研究的试验项目。本白皮书中的所有内容，包括但不限于项目内容、技术方案、经济系统等，都不构成任何具有约束力的承诺。


## 2. 挑战和风险

* 大规模基因检测成本太高
* 基因检测所需的样本收集困难
* 表型数据的持续收集
* 样本和信息贡献者的隐私保护
* 基因组数据的应用
* 数据分析需要大量的计算资源
* 基因组数据存储成本高
* 基因组数据研究成果对数据贡献者不透明
* 监管机构难以对研究结果的真实性进行确认
* 基因组学研究结果被夸大和滥用

## 3. 技术方案

### 3.1 技术方案概述和比较

|                 | Nebula | Shivom | HSG |  23andme | WeGene |
|---              |--------|--------|----- | ---- | ----|
| 匿名机制         |  有    | 有     | 有    | 无    |  部分有  |
| 支持基因芯片数据  |  否     | 是     | 是    | 是    |  是   |
| 支持全基因组测序   | 是     |  是    |  是   | 否    |  是   |
| 提供原始数据存储   | 否     | 是     |  是   |  是   |  是   |
| 提供数据分析算力   | 是     |  是    |  是   |  否    |  否   |
| 支持第三方应用     | 是     |  是    |  是   |  是    |  是   |
| 支持第三方数据     | 否     |  否    |  是   |   否   |  是    |
| 支持基因组学研究   | 是     |  是    |  是    |   是   |   是   |
| 已有数据基础      | Veritas | 无     | WeGene | ～300万 | > 10万 |
| 提供检测服务      | 否      |  是     |  否    | 是     |  是    |
| 现状          | 白皮书  |  ICO   | 上线测试 | 商业运营 | 商业运营 |

### 3.1 主要节点和角色

在 HASH 网络中的主要节点和角色有：

* **数据贡献者** ：为 HASH 网络贡献基因组数据和相应表型数据，使用基因组应用的用户，允许匿名；
* **数据消费者** ：利用 HASH 网络中的基因组数据，通过智能合约、数据计算节点、数据存储节点等工具，展开基因组相关的研究工作的用户，允许前台匿名，但会根据监管要求在认证节点或其他监管机构要求的系统上留存认证信息；
* **第三方应用开发者**： 在 HASH 网络提供数据分析解读、基于基因组的个性化服务等应用服务的开发者，允许前台匿名，但会根据监管要求在认证节点或其他监管机构要求的系统上留存认证信息；
* **数据计算节点** ： 为 HASH 网络中的基因组数据分析和计算提供算力的节点；
* **数据存储节点** ： 为 HASH 网络提供基因组数据和表型数据存储能力的节点；
* **认证节点** ： 对进入 HASH 网络的基因组数据、数据贡献者和消费者进行认证和授权的节点，并非 HASH 网络运行所必须的节点，但现阶段对于 HASH 网络的启动和扩大是必不可少的。

### 3.2 数据存储与确权

在 HASH 网络中，数据的确权是通过区块链完成的。这里包括两方面数据的确权：

1. 数据贡献者提供的基因组数据和相应的表型数据：基因组数据以数字签名的形式存入区块链中，基础的元信息也记录在区块链中。基因组原始数据的存储通过其他的中心化或诸如IPFS、Sia、BitTorrent 等分布式的存储系统实现。表型数据会根据不同的需求以明文或者加密的形式存入区块链中。
2. 数据消费者在 HASH 网络上得到的研究结果：因为整个研究项目从参与者募集、表型信息调查、计算分析和汇总结果的全过程都在 HASH 网络上完成，每一步操作会自然会记录在区块链上。研究过程的可重复性和可审计性会得到很好的保证，研究成果归属的确认也非常明确。

HASH 网络已经基于以太坊实现了基因组数据和基础元数据的记录和确权，具体操作详见官方网站或用户手册。在后续的开发中，HASH 网络会通过侧链等技术提高网络效率，以支撑大规模基因组研究项目短时间招募大量数据贡献者的需求。在未来，不排除迁移到EOS等效率更高的区块链，或者是针对基因组数据应用和研究开发自己的主链。

### 3.3 数据分析与计算

随着 HASH 网络的发展，数据的计算和分析会逐步成为整个网络中的核心功能。在网络初期，HASH 网络的计算功能会基于Blockstack、iExec等分布式应用平台来实现基因组数据分析，尤其是全基因组关联分析中常用的计算分析功能。随着 HASH 网络的成熟，诸如SingularityNET等基于区块链的分布式机器学习平台会被加入网络中。最终，HASH 会以自己的区块链和基因组数据分析的核心计算设施为基础，结合其他提供安全计算、机器学习等专业算力的网络，为数据消费者和应用开发者提供安全、专业、充沛的基因数据分析算力。

### 3.4 第三方应用

所有基因组数据的积累和研究最终是为了能将基因组技术更加广泛地应用到人类的生活工作中，提升生活质量，优化工作效率。HASH 团队所开发的 WeGene 开放平台（ https://api.wegene.com ）正在为超过300个的个人基因组第三方应用提供权限鉴定、数据传输、算力支持、任务调度等基础服务。通过对这一套系统进行改造和优化，我们将在 HASH 网络上建设一套功能更加丰富的弱中心化的个人基因组应用开发和运营平台。


### 3.5 隐私保护和监管

基因组是每个人最核心的隐私信息，不仅与数据贡献者本人相关，也跟数据贡献者的血缘亲属有密切关系。因此，在基因组应用和研究中，隐私信息的保护是非常重要的事情。HASH 网络只有在有绝对必要且数据贡献者充分之情的情况下才会让数据消费者或安全计算节点访问到部分基因组明文信息。在绝大部分情况下，数据消费者只能查看最终的统计分析结果，安全计算节点也只能对同态加密后的数据进行分析或者是在Intel SGX环境中进行数据分析，而无法访问到基因组原始数据。

在保护数据贡献者隐私的同时，我们会通过认证节点对数据消费者的身份进行验证和记录。数据消费者在 HASH 网络中进行数据收集和分析时，可以根据实际需求选择实名或者前台匿名。这不仅有助于保护数据贡献者的隐私和权益，也能够满足各国监管机构，尤其是FDA、CFDA等审批机构对数据使用和研究过程进行监管。

## 4. 经济系统

HASH 网络经济系统的核心是HSG Token。在项目初期，HSG 依据 ERC20 标准在以太坊上发行了流通。随着本项目的发展，HSG 会从以太坊映射到 HASH Genomics 自己的区块链系统上。

在 HASH 网络中的各种节点都可以通过挣取或消费 HSG 来满足基因组应用或研究需求。

本项目在以太坊上的基本信息如下：

* 项目名称：HASH Genomics
* 符号： HSG
* 合约地址：[待定]

HASH 用户在 HASH 网站上注册账号后，可以导入其在 WeGene 或 23andme 等服务商处所获得的基因芯片数据或全基因组测序数据。HASH 将根据用户导入的基因组数据对其进行 Token 奖励。


## 5. 路线图

### 5.1 开发路线图

本项目的开发将分为四个阶段进行：

* **第1阶段**：基于区块链确认数据所有权，构建基础的经济系统：

在以太坊（ethereum）上确认和记录基因组数据的所有权，并构建起基于ERC20标准Token的基本经济系统。HASH 网络将支持 WeGene、23andme等机构提供的基因芯片检测数据，以及 WeGene、Veritas Genetics、BGI 等提供的个人全基因组测序数据。

实现在以太坊上发起匿名的调查问卷，数据使用方在获得数据所有者授权后可以获得用户的基因组数据和相应的表型数据。同时也会对接 WeGene 的调查问卷系统，并将视 API 的支持情况对接23andme等其他个人基因组平台上的表型调查结果。

* **第2阶段**：实现基因组数据的去中心化存储：

在第 1 阶段，无论是基因芯片数据，还是全基因组测序数据都以匿名的方式存放在 HASH 网络在阿里云、AWS或其他云存储服务商上统一管理的存储系统中，在区块链上只存放基因组数据的基本信息和数据的数字签名。

在第2阶段，HASH 网络将对接IPFS、BitTorrent等存储网络，实现基因组数据的弱中心化存储。同时，NAS 等具有存储功能的个人网络设备也可以直接接入 HASH 网络，存放用户自己的基因组数据或是提供给其他用户使用，实现基因组数据的去中心化存储。

* **第3阶段**：基因组数据隐私保护和数据分析的去中心化：

要确保基因组数据能够安全地在去中心化的算力网络中进行复杂的分析计算，必须要实现对基因组数据的脱敏和加密，但同时也要满足计算性能的要求。同态加密和SGX等理论和技术的发展给我们带来了实现这种安全机制的可能。

* **第4阶段**：基因组测序的去中心化：

随着数据存储和分析的去中心化的实现，网络中最后一个中心化的环节就是基因组测序。考虑到现在主流的高通量测序设备，例如Illumina的NovaSeq和BGI的MGISEQ-2000等，都还必须在专业的生物实验室中使用，无法实现真正的去中心化。即使是诸如Nanopore等已经小型化的测序设备，在测序通量、测序准确性、数据量稳定性等方面也在有诸多不足，同时也还需要大量专业的分子生物学实验室设备的辅助才能使用。

基因组测序的中心化可能会分为两步来执行：第一步是在大型的高通量测序设备中加入用于数字签名的加密芯片，使得HASH网络可以确认数据的真实性，而不必依赖特定的数据来源（例如WeGene或23andme）；第二步则是在基因组测序仪真正小型化之后，实现基因测序完全的去中心化。

### 5.2 运营路线图

HASH 网络的运营分阶段进行（如下表所示）。每个阶段都会发行一定量的HSG用于网络的运营，其中大部分的HSG会通过各种途径分发到 HASH 网络中的各种节点和角色。在下表中我们列出了部分常见的 HSG 分发方式和规则。其中每个阶段的HSG的发行量和阶段分发目标间的差值将用于团队激励、顾问邀请、其他运营活动等支出。一旦达到HSG的阶段分发目标，就进入下一个阶段的运营并发行相应数量的HSG。HSG的总发行量不会超过30亿。

|                 |  初始化 | 第1阶段 | 第2阶段 | 第3阶段 | 第4阶段 | 长期 |
|----------------|--------|--------|---------|-------|--------|-----|
| HSG发行量       |  1000万 | 2000万 | 4000万 | 8000万    |   2 亿  | 总计不超过30亿 |
| 阶段分发HSG目标    |  800万  | 1500万 | 3000万 | 6000万 |  1亿   | |
|贡献基因芯片数据    |   50    | 30    |  20  |  10  | 5 | 无 |
|贡献全基因组测序数据 |  300    | 200   |  150 | 100 | 100 | 无|
|注册 HASH 用户     |   5     | 2   |   2   |   1  | 1 | 无 |
|注册 HASH 研究机构（启动经费） | 10000 | 10000 | 10000 | 10000 | 10000 | 无 |
|参与研究（额外奖励）  | 100%  | 60%  | 40% | 10 % | 0  | 0  |
|开发第三方应用（奖励）| 1000 | 1000  | 1000 | 500 | 200 | 无 |
|使用第三方应用（补贴）| 50% | 20% |  10% |  无 | 无 | 无 |


## 6. 未来发展

基因组数据是生命的基础数据，但并不是唯一的生命数据。肠道微生物、皮肤微生物、代谢组等诸多组学技术也在飞速的发展，并得到了日益广泛的应用。医疗级智能硬件设备也得到了长足的发展，FDA已经批准了若干用于血糖水平检测、心率检测等方面的可穿戴设备。我们希望，HASH 网络未来能发展成为整合各种组学数据和表型数据的生命数据生态系统，为生命科学技术的应用和研究提供强大的平台。

## 7. 相关文档

* 中文版官方网站：http://hash.wegene.com
* 英文版官方文章：http://www.hashgenomics.com
* GitHub 代码库： https://github.com/hashgenomics/
* Telegram 电报群：https://t.me/hashgenomics
* HASH Genomics 用户手册 （准备中）
* HASH Genomics 应用开发手册 （准备中）
* HASH Genomics 研究人员手册 （准备中）
* HASH Genomics 合作伙伴手册 （准备中）
